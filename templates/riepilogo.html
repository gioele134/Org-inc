<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Riepilogo Disponibilità</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <header>
    <h2>Riepilogo Disponibilità</h2>
    <nav>
      <a href="{{ url_for('calendario') }}" class="link-calendario">← Torna al Calendario</a>
      <a href="{{ url_for('logout') }}">Logout</a>
    </nav>
  </header>

  <div class="navigazione">
    <button id="prevBtn">← Settimana precedente</button>
    <span id="titoloSettimana"></span>
    <button id="nextBtn">Settimana successiva →</button>
  </div>

  <main class="riepilogo">
    {% for settimana in settimane %}
      <section class="settimana" data-settimana="{{ loop.index0 }}" style="{% if not loop.first %}display:none{% endif %}">
        <h3>Settimana {{ settimana.numero }} — dal {{ settimana.inizio }} al {{ settimana.fine }}</h3>

        {% for giorno in settimana.giorni %}
          <div class="giorno-riepilogo">
            <strong>{{ giorno.data }}</strong><br>
            <div>M: {{ giorno.M | join(', ') if giorno.M else "nessuno" }}</div>
            <div>P: {{ giorno.P | join(', ') if giorno.P else "nessuno" }}</div>
          </div>
        {% endfor %}
      </section>
    {% endfor %}
  </main>

  <script src="{{ url_for('static', filename='riepilogo.js') }}"></script>
</body>
</html>
